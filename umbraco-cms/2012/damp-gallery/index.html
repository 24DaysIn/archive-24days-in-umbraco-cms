<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">


	<title>DAMP Gallery</title>
<meta name="description" content="Complete website which shows how the Digibiz Advanced Media Picker (DAMP) can be used in Umbraco 4.11.">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/assets/24days-archive.css">
	<link rel="apple-touch-icon" href="/assets/24days-touch-icon.png">
	


</head>
<body>




<section class="page"><main class="article"><header><h1 class="header">DAMP Gallery</h1>
      <p class="byline"> by Jeroen Breuer, <span class="pubdate">posted on <time datetime="2012-12-10">Dec 10, 2012</time></span></p></header><div class="notification warning">
      <h2>Heads Up!</h2>
      <p>
					This article is several years old now, and much has happened since then,
					so please keep that in mind while reading it.
				</p>
    </div>
    <div class="content-column">
      <p class="teaser">I'm Jeroen and I work as a developer at <a href="http://www.digibiz.com" target="_blank">Digibiz</a> and <a href="http://www.tribal.nl/" target="_blank">Tribal Internet Solutions</a>. At CodeGarden 12 I <a href="http://codegarden12.com/sessions/day-two/slot-four/lightning-package-heaven.aspx" target="_blank">showed</a> how I use DAMP in my own projects. I explained how everything works, but I couldn't share any code because I used a customer project as an example. Because Umbraco now supports MVC, I thought it was about time to create a website which shows how you can use DAMP in the new view templates. That why I'm introducing the DAMP gallery. It's a complete website that can be used as an example. It runs on SQL CE so everything should work out of the box.</p>
<p class="intro">You can view a live example <a href="http://damp-gallery.usd01.digibiz.com" target="_blank">here</a>.</p>
<p>You can setup this example in a few easy steps:</p>
<ol>
<li>Download the zip at the bottom of this article.</li>
<li>Unzip the folder.</li>
<li>Open the Visual Studio project.</li>
<li>Run the website from within Visual Studio.</li>
<li>Umbraco login user: admin - password: damp</li>
</ol>
<p>The website shows how DAMP can be used for an image and video gallery. It also has a little MNTP bonus, just to show how that can be used in 4.11. It has paging and on the gallery 1 page I also useÂ <a href="/umbraco-cms/2012/ajax-paging-using-alttemplates/" target="_blank">Matt Brailsford's altTemplate paging example</a>. I even extended it a little to support deeplinking.</p>
<p>The DAMP gallery uses multiple packages which are all related to the media section:</p>
<ul>
<li><a href="http://our.umbraco.org/projects/backoffice-extensions/digibiz-advanced-media-picker" target="_blank">Digibiz Advanced Media Picker</a>: It uses a version which is newer than DAMP 2.0.Â Change SetÂ 2aff58e42dca from <a href="http://damp.codeplex.com/SourceControl/list/changesets" target="_blank">CodePlex</a> is used. This version supports SQL CE and has better performance.</li>
<li><a href="http://our.umbraco.org/projects/backoffice-extensions/damp-property-editor-value-converter" target="_blank">DAMP Property Editor Value Converter</a>: Makes it easier to use DAMP in Razor.</li>
<li><a href="http://our.umbraco.org/projects/backoffice-extensions/create-crops" target="_blank">Create Crops</a>: Ensures that all crops are available.</li>
<li><a href="http://our.umbraco.org/projects/website-utilities/track-media" target="_blank">Track Media</a>: Each time an image or a video is clicked it will be tracked by Google Analytics.</li>
<li><a href="http://our.umbraco.org/projects/website-utilities/multiple-file-upload" target="_blank">Multiple File Upload</a>: A custom version which <a href="http://our.umbraco.org/projects/website-utilities/multiple-file-upload/bugs/20286-Support-for-custom-Media-Types" target="_blank">supports custom media types</a>. The uploader introduced in 4.9 is disabled because it doesn't support custom media types.</li>
<li><a href="http://our.umbraco.org/projects/website-utilities/utube" target="_blank">uTube</a>: Only used for theÂ uTube Single Video Picker datatype on the YouTube custom media type.</li>
<li><a href="http://our.umbraco.org/projects/backoffice-extensions/restricted-upload" target="_blank">Restricted Upload</a>: Used on the Video custom media type so only mp4 files can be uploaded.</li>
</ul>
<p>Because of the DAMP Property Editor Value Converter package the Razor code looks very clean. This is the complete Razor file to show the gallery on the gallery 1 page. This example is dynamic, but there is also a strongly typed example in the website source code.</p>
<pre class="language-javascript"><code>@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    dynamic i = CurrentPage.images;
    if (i.Count &gt; 0)
    {
        var p = Helper.GetPager(6, i.Count);
        &lt;ul class="photogallery"&gt;
            @foreach (dynamic d in i.Skip(p.CurrentPage * p.ItemsPerPage).Take(p.ItemsPerPage))
            {
                &lt;li&gt;
                    &lt;a class="popup" rel="gallery" href="@d.Url"&gt;
                        &lt;img src="@d.Crops.gallery" alt="@d.Alt"/&gt;
                    &lt;/a&gt;
                &lt;/li&gt;
            }
        &lt;/ul&gt;
        &lt;div class="pagination"&gt;
            @foreach (var number in p.Pages)
            {
                if (number - 1 != p.CurrentPage)
                {
                    &lt;a href="?page=@number"&gt;@number&lt;/a&gt;
                }
                else
                {
                    &lt;span&gt;@number&lt;/span&gt;
                }
            }
        &lt;/div&gt;
    }
}</code></pre>
<p>The video below also shows how you can use the DAMP Gallery.</p>
<p>
        <!-- <iframe src="http://www.screenr.com/embed/1Vx7" width="800" height="487" frameborder="0"></iframe> -->
		<div class="notification note">
			ðŸ˜¢ This video file is sadly no longer available.
		</div>
		
      </p>
<p><span>I'd like to thankÂ </span><a href="http://our.umbraco.org/member/5704" target="_blank">Ralph van Vugt</a><span>Â who helped me with the HTML.</span></p>
<p><a href="/archive/media/2012/damp_gallery.zip">Download the DAMP GalleryÂ source code</a></p>
    </div><footer><ul class="tags">
        <li><a rel="tag" href="/umbraco-cms/tags/backoffice/" title="See all articles tagged with Backoffice">Backoffice</a></li>
        <li><a rel="tag" href="/umbraco-cms/tags/package/" title="See all articles tagged with Package">Package</a></li>
        <li><a rel="tag" href="/umbraco-cms/tags/v4/" title="See all articles tagged with v4">v4</a></li>
        <li><a rel="tag" href="/umbraco-cms/tags/v6/" title="See all articles tagged with v6">v6</a></li>
      </ul></footer><section class="bios"><div class="bio">
        <div class="gravatar" title="Jeroen Breuer"><img src="//gravatar.com/avatar/093beed29b447cc589b5c1abeb4ff309.jpg?d=mm&amp;s=150" srcset="//gravatar.com/avatar/093beed29b447cc589b5c1abeb4ff309.jpg?d=mm&amp;s=300 2x" width="150" height="150"></div>
        <h1>Jeroen Breuer</h1>
        <p>Jeroen is on Twitter as <a href="//twitter.com/j_breuer" title="Jeroen Breuer on Twitter" rel="author">@j_breuer</a></p>
      </div></section><section class="comments"><div id="disqus_thread"></div></section></main><nav class="dates-navbar"><a href="/umbraco-cms/2012/" class="home-link"><span class="scr-text">Home</span></a><ol>
      <li><a title="The Tale of the 3 CMSs" href="/umbraco-cms/2012/the-tale/"><span class="scr-text">The Tale of the 3 CMSs</span></a></li>
      <li><a title="Using DocTypeMixins" href="/umbraco-cms/2012/doctypemixins/"><span class="scr-text">Using DocTypeMixins</span></a></li>
      <li><a title="1-1 Multilingual Websites in Umbraco" href="/umbraco-cms/2012/multilingual-1-1/"><span class="scr-text">1-1 Multilingual Websites in Umbraco</span></a></li>
      <li><a title="How to view source with pride" href="/umbraco-cms/2012/how-to-view-source-with-pride/"><span class="scr-text">How to view source with pride</span></a></li>
      <li><a title="Introducing The umbraco:image Control" href="/umbraco-cms/2012/introducing-the-umbraco-image-control/"><span class="scr-text">Introducing The umbraco:image Control</span></a></li>
      <li><a title="Ajax Paging Using AltTemplates" href="/umbraco-cms/2012/ajax-paging-using-alttemplates/"><span class="scr-text">Ajax Paging Using AltTemplates</span></a></li>
      <li><a title="Post build events for Package devs" href="/umbraco-cms/2012/post-build-events-for-package-devs/"><span class="scr-text">Post build events for Package devs</span></a></li>
      <li><a title="How to extend the back-office..." href="/umbraco-cms/2012/extending-the-back-office/"><span class="scr-text">How to extend the back-office...</span></a></li>
      <li><a title="Community engagement" href="/umbraco-cms/2012/community-engagement/"><span class="scr-text">Community engagement</span></a></li>
      <li class="selected"><a title="DAMP Gallery" href="/umbraco-cms/2012/damp-gallery/"><span class="scr-text">DAMP Gallery</span></a></li>
      <li><a title="Give me JSON" href="/umbraco-cms/2012/give-me-json/"><span class="scr-text">Give me JSON</span></a></li>
      <li><a title="Optimising Umbraco for speed" href="/umbraco-cms/2012/optimise-for-speed/"><span class="scr-text">Optimising Umbraco for speed</span></a></li>
      <li><a title="Remember the Editors!" href="/umbraco-cms/2012/remember-the-editors/"><span class="scr-text">Remember the Editors!</span></a></li>
      <li><a title="On Being a Superhero" href="/umbraco-cms/2012/superhero/"><span class="scr-text">On Being a Superhero</span></a></li>
      <li><a title="Bulk-Assigning Media Items" href="/umbraco-cms/2012/bulk-assigning-media/"><span class="scr-text">Bulk-Assigning Media Items</span></a></li>
      <li><a title="The importance of great images ... and how you achieve them" href="/umbraco-cms/2012/great-images/"><span class="scr-text">The importance of great images ... and how you achieve them</span></a></li>
      <li><a title="Media Query opt-out with Umbraco" href="/umbraco-cms/2012/media-query-opt-out/"><span class="scr-text">Media Query opt-out with Umbraco</span></a></li>
      <li><a title="Who Picked This ?" href="/umbraco-cms/2012/who-picked-this/"><span class="scr-text">Who Picked This ?</span></a></li>
      <li><a title="Razor and Faceted Search In Umbraco" href="/umbraco-cms/2012/razor-faceted-search/"><span class="scr-text">Razor and Faceted Search In Umbraco</span></a></li>
      <li><a title="Creating a Login form with Umbraco MVC SurfaceController" href="/umbraco-cms/2012/creating-a-login-form-with-umbraco-mvc-surfacecontroller/"><span class="scr-text">Creating a Login form with Umbraco MVC SurfaceController</span></a></li>
      <li><a title="Favorite Pages for Members" href="/umbraco-cms/2012/member-favorites/"><span class="scr-text">Favorite Pages for Members</span></a></li>
      <li><a title="AutoIcons, Conventions in Umbraco" href="/umbraco-cms/2012/autoicons-conventions-in-umbraco/"><span class="scr-text">AutoIcons, Conventions in Umbraco</span></a></li>
      <li><a title="Quick Tips for Improving your Callouts" href="/umbraco-cms/2012/improving-callouts/"><span class="scr-text">Quick Tips for Improving your Callouts</span></a></li>
      <li><a title="Wrapping Up: Building this Site" href="/umbraco-cms/2012/wrapping-up/"><span class="scr-text">Wrapping Up: Building this Site</span></a></li>
      <li><a title="One more thing..." href="/umbraco-cms/2012/one-more-thing/"><span class="scr-text">One more thing...</span></a></li>
    </ol></nav></section>


	<script type="module" src="/assets/ipuzzler.js"></script>
	<script defer src="/assets/libs.min.js"></script>
	<script defer src="/assets/app.js"></script>
	
</body>
</html>
